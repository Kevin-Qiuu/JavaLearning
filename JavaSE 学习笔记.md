# JavaSE

## JDK、JRE与JVM之间的关系

## 方法重载

1、方法名称一定相同

2、参数列表要不同（参数的个数、类型以及类型的次序不同）

3、与方法的返回值类型不同

## 方法签名

查看方法签名

![image-20240711171803929](../../../Library/Application Support/typora-user-images/image-20240711171803929.png)

由上图可以看出，方法签名只与方法名、方法参数列表有关，因此方法重载只与这二者相关。

## 动态绑定

不同的类可能存在以下现象，系统调用方法的方式完全相同，但却有着不同的功能，因此可以将具有相同调用方式的方法部分进行抽象，化成父类，并结合向上调整机制，使用父类对象格式进行引用，进而触发多态，这就是动态绑定。

```java
// 尝试多态的代码尝试
// 还没有理解多态的实现原理
// 多态的实现原理大致如下：
// 在 Java 中，所有类都有一个特有的方法表，用于找到对应的方法
// 可以理解为 JVM 管理一个类所有方法的表
// 继承了一个基类的子类，在重写父类方法时，
// 直接将父类的方法表中所对应的这个方法的引用改动了
// 换为子类对这个方法改动后的方法的引用
// 所以再进行向上转移时，将一个子类变量通过基类去引用
// 则只可通过基类引用访问基类的内容，在调用重写方法时，就形成了多态
// 多态实际就是用户（程序员）在使用时，对这一代码场景的描述
// 本质就是子类对基类方法的重写，改动了子类中方法表中基类部分方法表的偏移量
// 进而实现了不同的子类通过它们全部的基类引用调用，对同一行为呈现了不同的动作


// 一个会触发多态的方法
// 触发多态的规则：
// 1、必须在继承体系下
// 2、子类必须要对父类方法重写
// 3、通过父类的引用重写子类方法

// 对于多态的个人理解：
// 一个基类下的不同子类在面对同样的行为时，会有不一样的结果产生，这就是多态
// 比如同为打印机的彩印机和黑白印机，对于打印行为，彩印机印出彩色，黑白印机引出白色
// 一个弓箭，在同一箭尾下，拴上不同的箭头会有不同的威力 
// 拴上火箭头，会着火，拴上挂有物资的箭头，会给予物资
// 但他们都是弓箭，在搭载不一样的箭头下，会有不一样的结果

// 触发多态的条件（触发动态绑定的条件）
// 动态绑定指的意思是父类引用变量在程序运行过程中会动态指向不同子类的变量
// 这个指向的动作称为绑定，而根据具体程序去指向（即起初并不知道会指向什么子类变量）
// 便称为动态绑定
// 1、有继承关系
// 2、向上转型（用一个父类引用变量指向一个子类的动作 ）
// 3、构成方法重写
```

## 接口

对于动态绑定提及的父类，如果完全变成一个最高级抽象，就是接口 `interface` ，对接接口的时候使用关键词 `implements` 。

可以将接口定义为代码中的开发规范，在现实生活中很常见，例如电脑上的 USB 接口：

- U 盘插入，可以存放，提取文件
- 键盘插入，可以通过系统输入流输入信息
- 充电线插入，可以使用电脑的电池进行供电

不同的类在调用同一个方法时，有不同的动作，将其高度抽象，形成接口。继承接口的类都要对接口中的方法进行重写，但是这些类的方法名称都是一样的，进而确保了这些类的开发规范是一致的。

开发中，通过将有相同动作的类进行抽象化，做成对应的接口，然后对接口中的方法进行重写，配合向上调整，构成动态绑定机制，形成多态的调用。~~以 `toString` 方法为例，每一个类都可以重写（`overwrite`）`toString` 方法，（错误理解，这里说的是重写，不是多态）~~



## String

`String` 底层是一个 `char` 类型数组，但 `String` 对象本身没有这个数组的空间，而是通过 `value` 变量引用这个 `char` 数组。

`String=String` ：这是一个浅拷贝。

### `StringBuffer` 与 `StringBuilder`

- 由于 `StringBuffer` 的线程安全性是通过内部同步机制实现的，大部分修改状态的方法都使用了 `synchronized` 关键字，确保方法的原子性，在同一时间内只有一个线程可以执行这些方法，为了保证这些，就会具备更多的同步机制的开销。故在单线程环境中，它的性能通常比`StringBuilder` 差。
- `StringBuilder`由于没有同步机制的开销，因此在单线程环境中性能更好。
- `StringBuffer`和`StringBuilder`都提供了类似的一组方法，如 `append`、`insert`、`delete`、`replace ` 等，用于修改字符串。
- 因为 `StringBuffer` 和 `StringBuilder `的方法中都是直接返回当前的对象，`String `往往都是返回一个新对象，所以这两个对象在进行一些操作（如频繁的 `append` 等）时，会更加高效。

### `String`的`Split`

在Java中，使用`String.split`方法时，如果两个单词之间有两个或更多的空格，那么按空格进行分割时，就会在这两个单词之间产生一个空字符串，进而包含在分割结果数组中。



## 异常

### 受检查异常

`Exception` 和它的子类都是受查异常，这些异常都会在编译时检查，因此要在会出现这些异常的代码所处的方法开头处使用 `throws` 声明异常，否则程序不能正常通过编译。

### 非受检查异常

`RuntimeException` 和它的子类都是非受查异常，不会在编译时检查。

- **throw** ： 用于抛出异常。
- **try** ： 用于监听。将要被监听的代码(可能抛出异常的代码)放在try[语句块](https://zhida.zhihu.com/search?content_id=242874166&content_type=Article&match_order=1&q=语句块&zhida_source=entity)之内，当try语句块内发生异常时，异常就被抛出。
- **catch** ：用于捕获异常。catch用来捕获try语句块中发生的异常。
- **finally** ： finally语句块总是会被执行。它主要用于回收在[try块](https://zhida.zhihu.com/search?content_id=242874166&content_type=Article&match_order=1&q=try块&zhida_source=entity)里打开的资源(如数据库连接、网络连接和磁盘文件)。 **注意**：只有finally块，执行完成之后，才会回来执行try或者[catch块](https://zhida.zhihu.com/search?content_id=242874166&content_type=Article&match_order=1&q=catch块&zhida_source=entity)中的return或者throw 语句，如果finally中使用了return或者throw等终止方法的语句，则就不会跳回执行，直接停止。
- **throws**： 用在方法签名中，用于声明该方法可能抛出的异常。

### 抛出异常throw

- 那什么时候使用呢？

1. 比如，在定义方法时，方法需要接受参数。那么，当调用方法使用接受到的参数时，首先需要先对参数数据进行合法的判断，数据若不合法，就应该告诉调用者，传递合法的数据进来。这时需要使用抛出异常的方式来告诉调用者。
2. 或者当你觉得解决不了某些异常问题，且不需要调用者处理，那么你也可以抛出异常。

- **throw的作用：**在方法内部抛出一个Throwable 类型的异常。任何Java代码都可以通过throw语句抛出异常。
- 具体如何抛出一个异常呢？

1. 创建一个异常对象。封装一些提示信息(信息可以自己编写)。
2. 需要将这个异常对象告知给调用者。怎么告知呢？怎么将这个异常对象传递到调用者处呢？通过关键字throw就可以完成。throw异常对象。 throw**用在方法内**，用来抛出一个异常对象，将这个异常对象传递到调用者处，并结束当前方法的执行。

**注意**：当方法抛出异常列表的异常时，方法将不对这些类型及其子类类型的异常作处理，而抛向调用该方法的方法，由他去处理。使用throws关键字将异常抛给调用者后，如果调用者不想处理该异常，可以继续向上抛出，但最终要有能够处理该异常的调用者。比如汽车坏了，开车的人也不会修理，只能叫修车公司来修理了。

- 演示一下： 一般来说，throws和 throw通常是成对出现的，例如：

```java
public class ThrowsDemo {
    public static void main(String[] args) throws FileNotFoundException {
        readFile("a.txt");
    }
    // 如果定义功能时有问题发生需要报告给调用者。可以通过在方法上使用throws关键字进行声明
    public static void readFile(String path) throws FileNotFoundException {
        if(!path.equals("a.txt")) {//如果不是 a.txt这个文件
            // 我假设  如果不是 a.txt 认为 该文件不存在 是一个错误 也就是异常  throw
            throw new FileNotFoundException("文件不存在");
        }
    }
}
```

![image-20241010115357061](../../../Library/Application Support/typora-user-images/image-20241010115357061.png)

非常详细的异常内容讲解文章：https://zhuanlan.zhihu.com/p/696348474



## Some tips

### `final` 修饰符

`final`修饰的变量值不可以变，但是 Java 中，绝大多数都是引用变量，所以以下情况应要注意。

```java
final int[] arr = new int[]{1, 2, 3, 4, 5};
// 第一种情况
arr = new int[]{1, 2, 3, 4, 5}; // 报错，因为修改了 arr 这个引用变量的值，也就是 array 的地址
// 第二种情况
arr[0] = 1; // 没有问题，因为这是修改的另外一个没有被 final 修饰的空间，故修改不会报错
```

---

# JavaSE 复习



![image-20241010105104340](../../../Library/Application Support/typora-user-images/image-20241010105104340.png)



## 代码块

## 内部类



![image-20241010111035877](../../../Library/Application Support/typora-user-images/image-20241010111035877.png)



撰写这样一篇涉及环保、生态和伦理的报告，可以从多个角度进行分析。以下是针对您的问题提供的详细分析，以帮助您撰写报告：

### （1）为什么 DDT 在技术上是成功的，而在生态上是失败的？

DDT（滴滴涕）最初被引入作为一种有效的杀虫剂，在20世纪中叶被广泛使用。例如，它成功降低了蚊虫传播的疟疾与斑疹伤寒，因此在技术上被认为是革命性的，因而获得了广泛认同。然而，从生态上看，DDT的使用产生了严重的负面影响。这种化学物质在环境中累积，特别是在食物链中会生物累积，导致野生动物特别是鸟类的繁殖问题，例如，使得鸟蛋的蛋壳变薄，影响孵化。此外，DDT对昆虫的选择压力导致耐药性的出现，与目标害虫之外的广泛非目标物种受到影响。因此，尽管DDT在技术层面展现了其强大的杀虫能力，但其生态上的失败反映了对自然平衡和长远环境健康影响的严重缺失。

### （2）从生态视角来看，你认为怒江适合水电开发吗？

怒江流域的生态多样性和文化价值使得其水电开发备受争议。生态视角强调保留流域的自然状态，以保护其丰富的生物多样性和周围社区的可持续发展。怒江不仅是中国境内的一大生物多样性热点，其中还栖息着大量的特有物种和濒危物种。开发水电可能导致河流的生态系统变异、鱼类生境丧失以及土著文化的侵蚀。因此，从生态视角来看，怒江不适合进行大型水电开发，应优先考虑生态保护和可持续利用，以维持其生态系统的完整性以及支持当地社区的生活方式。

### （3）如何理解“工程师的环境伦理原则”？它是限制了工程师的行为，还是对工程师行动提供制度性的保护？为什么？

“工程师的环境伦理原则”旨在引导工程实践与环境管理相结合，确保工程活动对自然和文化环境的尊重和保护。这些伦理原则并不是单纯限制行为的条款，而是促进工程师意识到其责任的结构框架。通过遵循这些伦理指南，工程师能够在规划和实施过程中降低对环境的负面影响，并为其决策提供正当的伦理理由。这些原则不仅是行为限制，更是为工程师在环境破坏的潜在指责中提供了制度保护。此外，它们鼓励工程师在专业活动中融合生态学与技术知识，从而促进可持续发展。

### （4）从“松花江特大污染案环境民事公益诉讼”案例看，人可以为自然代言吗？

松花江特大污染案展现了自然与法律体系的交集，其中的民事公益诉讼成为讨论人是否能为自然代言的重要实例。法律越来越多采用生态学原则，通过允许个人或组织代表自然发声，促使法律作用于环境保护。这种法律设计体现于众多国家与区域的环保立法，旨在使生态成为公共利益的一部分。通过法律诉讼，自然获得了类似法律主体的“代言”，虽然并非具有完全独立的人格，但通过某类“代言人”（比如环保组织），它们的健康状态能够得到法院的关注与保护。这种机制不仅强化了人类社会对自然环境的责任感，还增强了法律对环境利益的权利化理解。

### （5）“都江堰水利工程”反映出来的生态智慧给我们哪些启示？

都江堰水利工程是中国古代伟大的水利工程之一，展示出高度的生态智慧。首先，它体现了人与自然和谐共生的理念。都江堰充分利用自然的水流调节能力，而非对自然进行完全的改造或驯服，体现出顺应自然的工程智慧。其次，它强调可持续发展，几千年来持续发挥作用而不依赖于现代能源与技术。这启示我们现代工程设计应寻求长远而低扰动的解决方案，实现对自然资源的合理利用而非透支。同时，都江堰强调对生态平衡的维护以及系统的整体优化，鼓励现代工程效法其思维方式，与自然互动中追求相互受益与共利共生。

综上所述，这些问题揭示了在现代工程和环保治理中面临的挑战与思考。从生态学角度的反思与智慧的汲取，均为我们未来发展提供了宝贵的建议与思路。通过整合生态伦理与实践，工程师和决策者能够为人类和自然的可持续未来共同努力。



































